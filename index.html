<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Daftar Video Doodstream</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background: #f4f4f4; }
    .video-card { background: white; border-radius: 10px; padding: 15px; margin: 15px 0; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
    iframe { width: 100%; height: 360px; border: none; border-radius: 8px; }
  </style>
</head>
<body>

<h2>ðŸ“º Semua Video dari Doodstream</h2>
<div id="video-list">Loading...</div>

<script>
fetch('/api/videos')
  .then(res => res.json())
  .then(data => {
    const container = document.getElementById('video-list');
    container.innerHTML = '';

    if (!data.result || data.result.length === 0) {
      container.innerHTML = '<p>Belum ada video.</p>';
      return;
    }

    data.result.forEach(video => {
      const card = document.createElement('div');
      card.className = 'video-card';
      card.innerHTML = `
        <h3>${video.title}</h3>
        <iframe src="https://doodstream.com/e/${video.file_code}" allowfullscreen></iframe>
        <p>Ukuran: ${(video.size / 1024 / 1024).toFixed(2)} MB</p>
        <p>Upload: ${video.uploaded}</p>
      `;
      container.appendChild(card);
    });
  })
  .catch(err => {
    document.getElementById('video-list').innerHTML = '<p>Error ambil data.</p>';
    console.error(err);
  });
</script>

</body>
</html>